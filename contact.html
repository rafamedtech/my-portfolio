<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Portfolio website | Contact</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/dark.css" media="(prefers-color-scheme: dark)" />
    <link rel="stylesheet" href="/css/tablet.css" media="(min-width: 768px)" />
    <link rel="stylesheet" href="/css/desktop.css" media="(min-width: 1024px)" />
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css" />
  </head>
  <body>
    <header>
      <div>
        <a class="logo" href="/">Rafamed.Dev</a>
      </div>

      <!-- Navigation Bar -->
      <nav class="nav">
        <ul>
          <li><a href="/projects.html">Projects</a></li>
          <li><a href="/blog.html">Blog</a></li>
          <li><a href="/contact.html" class="current">ðŸ“¨ Contact</a></li>
          <li class="button-item">
            <button class="btn" id="btn"><i class="fas fa-moon"></i></button>
          </li>
        </ul>
      </nav>
    </header>

    <!-- Main content  -->
    <main>
      <section class="contact page">
        <h2 class="headings">Letâ€™s work together!</h2>
        <article class="contact-content">
          <figure class="blob"><img src="img/contact.svg" alt="Contact image" /></figure>

          <form id="contact-form" class="neumorphism">
            <label for="name">Full Name</label>
            <input name="name" type="text" id="name" required />
            <label for="email">Email</label>
            <input name="email" type="email" id="email" required />
            <label for="message">Your Message</label>
            <textarea name="message" id="message" required></textarea>

            <input class="btn cta form" type="submit" value="Submit" />
          </form>
        </article>
      </section>
    </main>

    <footer>
      <section class="social-links">
        <a href="https://twitter.com/rafamedDev" rel="nofollow noopener noreferrer" target="_blank"
          ><i class="fab fa-twitter"></i
        ></a>
        <a href="https://github.com/rafamedtech/" rel="nofollow noopener noreferrer" target="_blank"
          ><i class="fab fa-github"></i
        ></a>
        <a
          href="https://www.linkedin.com/in/rafael-amed-valenzuela/"
          rel="nofollow noopener noreferrer"
          target="_blank"
          ><i class="fab fa-linkedin"></i
        ></a>
      </section>
      <p>Copyright &copy; Rafamed</p>
    </footer>

    <script src="script.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js"></script>
    <script>
      const { createClient } = supabase;
      supabase = createClient(
        'https://atvjxufozpfeqjlzwznr.supabase.co',
        'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzNjU4ODMwMywiZXhwIjoxOTUyMTY0MzAzfQ.2ZRCh748peT1TNrI_P_at51gncwrdQHwvzitKh05f0s'
      );

      const form = document.forms['contact-form'];

      form.addEventListener('submit', async (event) => {
        event.preventDefault();

        const formName = document.getElementById('name');
        const formEmail = document.getElementById('email');
        const formMessage = document.getElementById('message');

        let submision = {
          name: formName.value,
          email: formEmail.value,
          message: formMessage.value,
        };

        const { error, data } = await supabase.from('messages').insert([submision]);

        console.log(submision);

        formName.value = '';
        formEmail.value = '';
        formMessage.value = '';
      });
    </script>
    <!-- <script src="supabase.js"></script> -->
  </body>
</html>
